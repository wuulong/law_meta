Help the user query their PostgreSQL database byexecute SQL queries, retrieve data, but cannot modify data etc. sql command should follow database schema. This database named 'lawdb' designed include all laws in taiwan by open data file with XML format, external add summary, keywords, also meta data generated by LLM.When try to access json data, use json key defined in data spec. following is database schema, XML data sample, and meta data specification,summary example,task list from stakeholders.  

{db_schema_info}.
{XML_sample}.{data_spec}.{summary_sample}.{keywords_sample}.{tasks_list_stakeholders}



db_schema_info = """
-- PostgreSQL Schema for Unified Legal Data Tool

-- Drop existing tables if they exist (for a clean setup)
-- Be cautious with this in a production environment!
DROP TABLE IF EXISTS article_legal_concept CASCADE;
DROP TABLE IF EXISTS law_relationships CASCADE;
DROP TABLE IF EXISTS law_hierarchy_relationships CASCADE;
DROP TABLE IF EXISTS legal_concepts CASCADE;
DROP TABLE IF EXISTS articles CASCADE;
DROP TABLE IF EXISTS laws CASCADE;


-- 1. 法規資料表 (laws)
-- Stores core law information from XML, LLM outputs, and rich JSON metadata.
CREATE TABLE laws (
    id SERIAL PRIMARY KEY,                          -- 自動生成的唯一識別碼
    pcode VARCHAR(50) UNIQUE NOT NULL,              -- 法規PCode (from URL, e.g., A0000001), a reliable unique ID
    
    -- Fields directly from XML structure
    xml_law_nature VARCHAR(100),                    -- <法規性質> e.g., 憲法, 法律, 命令
    xml_law_name VARCHAR(255) NOT NULL,             -- <法規名稱>
    xml_law_url VARCHAR(512),                       -- <法規網址>
    xml_law_category VARCHAR(255),                  -- <法規類別> e.g., 行政＞勞動部＞組織目
    xml_latest_change_date DATE,                    -- <最新異動日期> (YYYYMMDD converted to DATE)
    xml_effective_date TEXT,                        -- <生效日期> (Can be complex, store as text or parse if consistently formatted)
    xml_effective_content TEXT,                     -- <生效內容>
    xml_abolition_mark TEXT,                        -- <廢止註記>
    xml_is_english_translated BOOLEAN,              -- <是否英譯註記> (Y/N converted to BOOLEAN)
    xml_english_law_name VARCHAR(512),              -- <英文法規名稱>
    xml_attachment TEXT,                            -- <附件 /> (Content or link)
    xml_history_content TEXT,                       -- <沿革內容>
    xml_preamble TEXT,                              -- <前言>

    -- LLM Generated Data
    llm_summary TEXT,                               -- LLM generated summary text
    llm_keywords TEXT,                              -- LLM generated keywords, concatenated into a single string with delimiter |

    -- Rich Metadata (as defined in 法律語法形式化.md)
    is_active BOOLEAN DEFAULT TRUE,
    law_metadata JSONB                              -- Stores the complete "Law Meta Data" JSON structure
);

COMMENT ON TABLE laws IS '儲存法規核心資訊(來自XML)、LLM生成資料以及豐富的JSON元數據 (Law Meta Data)';
COMMENT ON COLUMN laws.id IS '自動生成的唯一識別碼';
COMMENT ON COLUMN laws.pcode IS '法規PCode (來自法規網址中的pcode)，作為主要唯一識別碼';
COMMENT ON COLUMN laws.xml_law_nature IS 'XML來源: 法規性質';
COMMENT ON COLUMN laws.xml_law_name IS 'XML來源: 法規名稱';
COMMENT ON COLUMN laws.xml_law_url IS 'XML來源: 法規網址';
COMMENT ON COLUMN laws.xml_law_category IS 'XML來源: 法規類別';
COMMENT ON COLUMN laws.xml_latest_change_date IS 'XML來源: 最新異動日期';
COMMENT ON COLUMN laws.xml_effective_date IS 'XML來源: 生效日期';
COMMENT ON COLUMN laws.xml_effective_content IS 'XML來源: 生效內容';
COMMENT ON COLUMN laws.xml_abolition_mark IS 'XML來源: 廢止註記';
COMMENT ON COLUMN laws.xml_is_english_translated IS 'XML來源: 是否英譯註記';
COMMENT ON COLUMN laws.xml_english_law_name IS 'XML來源: 英文法規名稱';
COMMENT ON COLUMN laws.xml_attachment IS 'XML來源: 附件';
COMMENT ON COLUMN laws.xml_history_content IS 'XML來源: 沿革內容';
COMMENT ON COLUMN laws.xml_preamble IS 'XML來源: 前言';
COMMENT ON COLUMN laws.llm_summary IS 'LLM生成的法規摘要';
COMMENT ON COLUMN laws.llm_keywords IS 'LLM生成的關鍵字 (合併為單一字串)';
COMMENT ON COLUMN laws.law_metadata IS '儲存完整的法規元數據JSON內容 (依法律語法形式化.md)';

-- Indexes for laws table
CREATE INDEX idx_laws_pcode ON laws (pcode);
CREATE INDEX idx_laws_xml_law_name ON laws (xml_law_name); -- For searching by name
CREATE INDEX idx_laws_xml_law_category ON laws (xml_law_category);
CREATE INDEX idx_laws_llm_keywords_fts ON laws USING GIN (to_tsvector('simple', llm_keywords)); -- For full-text search on keywords
CREATE INDEX idx_laws_law_metadata_gin ON laws USING GIN (law_metadata); -- For querying JSONB


-- 2. 法條資料表 (articles)
-- Stores core article information from XML and rich JSON article metadata.
CREATE TABLE articles (
    id SERIAL PRIMARY KEY,                          -- 自動生成的唯一識別碼
    law_id INTEGER NOT NULL REFERENCES laws(id) ON DELETE CASCADE, -- 指向所屬法規的外部鍵
    
    -- Fields directly from XML structure (within <法規內容>)
    xml_chapter_section VARCHAR(255),               -- <編章節>
    xml_article_number VARCHAR(50) NOT NULL,        -- <條號>
    xml_article_content TEXT,                       -- <條文內容>

    -- Rich Metadata (as defined in 法律語法形式化.md)
    article_metadata JSONB,                         -- Stores the complete "Article Meta Data" JSON structure

    UNIQUE (law_id, xml_article_number)             -- 確保同一法規內的法條號碼唯一
);

COMMENT ON TABLE articles IS '儲存法條核心資訊(來自XML)以及豐富的JSON元數據 (Article Meta Data)';
COMMENT ON COLUMN articles.id IS '自動生成的唯一識別碼';
COMMENT ON COLUMN articles.law_id IS '指向所屬法規的外部鍵';
COMMENT ON COLUMN articles.xml_chapter_section IS 'XML來源: 編章節';
COMMENT ON COLUMN articles.xml_article_number IS 'XML來源: 條號';
COMMENT ON COLUMN articles.xml_article_content IS 'XML來源: 條文內容';
COMMENT ON COLUMN articles.article_metadata IS '儲存完整的法條元數據JSON內容 (依法律語法形式化.md)';

-- Indexes for articles table
CREATE INDEX idx_articles_law_id_article_number ON articles (law_id, xml_article_number);
CREATE INDEX idx_articles_article_metadata_gin ON articles USING GIN (article_metadata);


-- 3. 法律概念資料表 (legal_concepts)
-- Stores legal concept vocabulary (Legal Concept Meta Data)
CREATE TABLE legal_concepts (
    id SERIAL PRIMARY KEY,                          -- 自動生成的唯一識別碼
    law_id INTEGER NOT NULL REFERENCES laws(id) ON DELETE CASCADE, -- 指向所屬法規的外部鍵
    code VARCHAR(255) NOT NULL,                     -- 法律概念代號
    name VARCHAR(255) NOT NULL,                     -- 詞彙名稱
    data JSONB,                                     -- Stores the complete "Legal Concept Meta Data" JSON
    UNIQUE (law_id, code)                           -- 確保同一法規內的法律概念代號唯一
);

COMMENT ON TABLE legal_concepts IS '儲存法律概念詞彙庫 (Legal Concept Meta Data)';
COMMENT ON COLUMN legal_concepts.id IS '自動生成的唯一識別碼';
COMMENT ON COLUMN legal_concepts.law_id IS '指向所屬法規的外部鍵';
COMMENT ON COLUMN legal_concepts.code IS '法律概念代號，在同一法規內唯一';
COMMENT ON COLUMN legal_concepts.name IS '詞彙名稱';
COMMENT ON COLUMN legal_concepts.data IS '儲存完整的法律概念 Meta Data JSON 內容';

-- Indexes for legal_concepts table
CREATE INDEX idx_legal_concepts_code ON legal_concepts (code);
CREATE INDEX idx_legal_concepts_name ON legal_concepts (name);
CREATE INDEX idx_legal_concepts_law_id ON legal_concepts (law_id);
CREATE INDEX idx_legal_concepts_data_gin ON legal_concepts USING GIN (data);


-- 4. 法規階層關係資料表 (law_hierarchy_relationships)
-- Describes hierarchical relationships between laws (Law Hierarchy Relationship Meta Data)
CREATE TABLE law_hierarchy_relationships (
    id SERIAL PRIMARY KEY,                          -- 自動生成的唯一識別碼
    relationship_code VARCHAR(255) UNIQUE NOT NULL, -- 關係代號，唯一 (e.g., LH_政府採購法_政府採購法施行細則)
    main_law_id INTEGER NOT NULL REFERENCES laws(id) ON DELETE CASCADE,       -- 主要法規的外部鍵
    main_law_name VARCHAR(255),                     -- 主要法規名稱 (新增)
    related_law_id INTEGER NOT NULL REFERENCES laws(id) ON DELETE CASCADE,    -- 關聯法規的外部鍵
    related_law_name VARCHAR(255),                  -- 關聯法規名稱 (新增)
    hierarchy_type VARCHAR(100) NOT NULL,           -- 階層關係類型，例如 "子法規"
    data JSONB                                      -- Stores the complete "Law Hierarchy Relationship Meta Data" JSON
);

COMMENT ON TABLE law_hierarchy_relationships IS '描述法規之間的階層關係 (Law Hierarchy Relationship Meta Data)';
COMMENT ON COLUMN law_hierarchy_relationships.id IS '自動生成的唯一識別碼';
COMMENT ON COLUMN law_hierarchy_relationships.relationship_code IS '關係代號，唯一識別';
COMMENT ON COLUMN law_hierarchy_relationships.main_law_id IS '主要法規的外部鍵';
COMMENT ON COLUMN law_hierarchy_relationships.related_law_id IS '關聯法規的外部鍵';
COMMENT ON COLUMN law_hierarchy_relationships.hierarchy_type IS '階層關係類型';
COMMENT ON COLUMN law_hierarchy_relationships.data IS '儲存完整的法規階層關係 Meta Data JSON 內容';

-- Indexes for law_hierarchy_relationships table
CREATE INDEX idx_law_hierarchy_main_law_id ON law_hierarchy_relationships (main_law_id);
CREATE INDEX idx_law_hierarchy_related_law_id ON law_hierarchy_relationships (related_law_id);
CREATE INDEX idx_law_hierarchy_type ON law_hierarchy_relationships (hierarchy_type);
CREATE INDEX idx_law_hierarchy_data_gin ON law_hierarchy_relationships USING GIN (data);


-- 5. 法規關聯性資料表 (law_relationships)
-- Describes external relationships between laws, articles-to-laws, articles-to-articles (Law Relationship Meta Data)
CREATE TABLE law_relationships (
    id SERIAL PRIMARY KEY,                          -- 自動生成的唯一識別碼
    code VARCHAR(255) UNIQUE NOT NULL,              -- 關係代號，唯一 (e.g., LR_政府採購法_9)
    relationship_type VARCHAR(100) NOT NULL,        -- 關聯類型，例如 "法條-法規"
    main_law_id INTEGER REFERENCES laws(id) ON DELETE CASCADE,          -- 主要法規的外部鍵 (可為 NULL)
    main_law_name VARCHAR(255),                     -- 主要法規名稱 (新增)
    main_article_id INTEGER REFERENCES articles(id) ON DELETE CASCADE,  -- 主要法條的外部鍵 (可為 NULL)
    related_law_id INTEGER REFERENCES laws(id) ON DELETE CASCADE,       -- 關聯法規的外部鍵 (可為 NULL)
    related_law_name VARCHAR(255),                  -- 關聯法規名稱 (新增)
    related_article_id INTEGER REFERENCES articles(id) ON DELETE CASCADE, -- 關聯法條的外部鍵 (可為 NULL)
    data JSONB                                      -- Stores the complete "Law Relationship Meta Data" JSON
);

COMMENT ON TABLE law_relationships IS '描述不同法規之間、法條與法規之間、法條與法條(跨法規)等的外部關聯性 (Law Relationship Meta Data)';
COMMENT ON COLUMN law_relationships.id IS '自動生成的唯一識別碼';
COMMENT ON COLUMN law_relationships.code IS '關係代號，唯一識別';
COMMENT ON COLUMN law_relationships.relationship_type IS '關聯類型';
COMMENT ON COLUMN law_relationships.main_law_id IS '主要法規的外部鍵 (若關聯涉及法規)';
COMMENT ON COLUMN law_relationships.main_article_id IS '主要法條的外部鍵 (若關聯涉及法條)';
COMMENT ON COLUMN law_relationships.related_law_id IS '關聯法規的外部鍵 (若關聯涉及法規)';
COMMENT ON COLUMN law_relationships.related_article_id IS '關聯法條的外部鍵 (若關聯涉及法條)';
COMMENT ON COLUMN law_relationships.data IS '儲存完整的法規關聯性 Meta Data JSON 內容';

-- Indexes for law_relationships table
CREATE INDEX idx_law_relationships_type ON law_relationships (relationship_type);
CREATE INDEX idx_law_relationships_main_law ON law_relationships (main_law_id);
CREATE INDEX idx_law_relationships_main_article ON law_relationships (main_article_id);
CREATE INDEX idx_law_relationships_related_law ON law_relationships (related_law_id);
CREATE INDEX idx_law_relationships_related_article ON law_relationships (related_article_id);
CREATE INDEX idx_law_relationships_data_gin ON law_relationships USING GIN (data);


-- 6. 法條-法律概念連接資料表 (article_legal_concept)
-- Junction table for many-to-many relationship between articles and legal concepts.
CREATE TABLE article_legal_concept (
    article_id INTEGER NOT NULL REFERENCES articles(id) ON DELETE CASCADE,      -- 指向法條的外部鍵
    legal_concept_id INTEGER NOT NULL REFERENCES legal_concepts(id) ON DELETE CASCADE, -- 指向法律概念的外部鍵
    PRIMARY KEY (article_id, legal_concept_id)                                  -- 聯合主鍵，確保每對關係唯一
);

COMMENT ON TABLE article_legal_concept IS '連接法條與法律概念的資料表，記錄法條使用了哪些法律概念 (多對多)';
COMMENT ON COLUMN article_legal_concept.article_id IS '指向法條的外部鍵';
COMMENT ON COLUMN article_legal_concept.legal_concept_id IS '指向法律概念的外部鍵';

-- Indexes for article_legal_concept table
CREATE INDEX idx_alc_article_id ON article_legal_concept (article_id);
CREATE INDEX idx_alc_legal_concept_id ON article_legal_concept (legal_concept_id);

-- 建議建立的 STORED PROCEDURE / FUNCTION (儲存程序/函數)

-- 1. f_search_laws_by_keyword(p_keyword TEXT) (依關鍵字搜尋法規)
CREATE OR REPLACE FUNCTION f_search_laws_by_keyword(p_keyword TEXT)
RETURNS SETOF laws AS $$
BEGIN
    RETURN QUERY
    SELECT *
    FROM laws
    WHERE
        xml_law_name ILIKE '%' || p_keyword || '%' OR
        llm_summary ILIKE '%' || p_keyword || '%' OR
        llm_keywords ILIKE '%' || p_keyword || '%';
END;
$$ LANGUAGE plpgsql;

-- 2. f_get_law_full_content(p_pcode VARCHAR) (獲取法規完整內容)
CREATE OR REPLACE FUNCTION f_get_law_full_content(p_pcode VARCHAR)
RETURNS JSONB AS $$
DECLARE
    law_data JSONB;
    articles_data JSONB;
BEGIN
    SELECT to_jsonb(l.*) INTO law_data
    FROM laws l
    WHERE l.pcode = p_pcode;

    IF law_data IS NULL THEN
        RETURN NULL;
    END IF;

    SELECT jsonb_agg(to_jsonb(a.*) ORDER BY a.xml_article_number) INTO articles_data
    FROM articles a
    WHERE a.law_id = (SELECT id FROM laws WHERE pcode = p_pcode);

    RETURN jsonb_build_object(
        'law', law_data,
        'articles', COALESCE(articles_data, '[]'::jsonb)
    );
END;
$$ LANGUAGE plpgsql;

-- 3. f_get_article_details_with_concepts(p_law_pcode VARCHAR, p_article_number VARCHAR) (獲取法條詳情及相關概念)
CREATE OR REPLACE FUNCTION f_get_article_details_with_concepts(
    p_law_pcode VARCHAR,
    p_article_number VARCHAR
)
RETURNS JSONB AS $$
DECLARE
    article_info JSONB;
    concepts_info JSONB;
BEGIN
    SELECT to_jsonb(a.*) || jsonb_build_object('law_name', l.xml_law_name) INTO article_info
    FROM articles a
    JOIN laws l ON a.law_id = l.id
    WHERE l.pcode = p_law_pcode AND a.xml_article_number = p_article_number;

    IF article_info IS NULL THEN
        RETURN NULL;
    END IF;

    SELECT jsonb_agg(to_jsonb(lc.*) || jsonb_build_object('definition', lc.data->>'定義')) INTO
    concepts_info
    FROM legal_concepts lc
    JOIN article_legal_concept alc ON lc.id = alc.legal_concept_id
    WHERE alc.article_id = (SELECT id FROM articles WHERE law_id = (SELECT id FROM laws WHERE
    pcode = p_law_pcode) AND xml_article_number = p_article_number);

    RETURN jsonb_build_object(
        'article', article_info,
        'legal_concepts', COALESCE(concepts_info, '[]'::jsonb)
    );
END;
$$ LANGUAGE plpgsql;

-- 4. f_search_laws_by_category(p_category TEXT) (依類別搜尋法規)
CREATE OR REPLACE FUNCTION f_search_laws_by_category(p_category TEXT)
RETURNS SETOF laws AS $$
BEGIN
    RETURN QUERY
    SELECT *
    FROM laws
    WHERE xml_law_category ILIKE '%' || p_category || '%';
END;
$$ LANGUAGE plpgsql;

-- 5. f_search_articles_by_content(p_keyword TEXT) (依內容搜尋法條)
CREATE OR REPLACE FUNCTION f_search_articles_by_content(p_keyword TEXT)
RETURNS TABLE(
    law_name VARCHAR,
    pcode VARCHAR,
    article_number VARCHAR,
    article_content TEXT,
    chapter_section VARCHAR
) AS $$
BEGIN
    RETURN QUERY
    SELECT
        l.xml_law_name,
        l.pcode,
        a.xml_article_number,
        a.xml_article_content,
        a.xml_chapter_section
    FROM articles a
    JOIN laws l ON a.law_id = l.id
    WHERE a.xml_article_content ILIKE '%' || p_keyword || '%';
END;
$$ LANGUAGE plpgsql;

-- 6. f_get_legal_concepts_for_law(p_pcode VARCHAR) (獲取某法規的所有法律概念)
CREATE OR REPLACE FUNCTION f_get_legal_concepts_for_law(p_pcode VARCHAR)
RETURNS SETOF legal_concepts AS $$
BEGIN
    RETURN QUERY
    SELECT DISTINCT lc.*
    FROM legal_concepts lc
    JOIN article_legal_concept alc ON lc.id = alc.legal_concept_id
    JOIN articles a ON alc.article_id = a.id
    JOIN laws l ON a.law_id = l.id
    WHERE l.pcode = p_pcode;
END;
$$ LANGUAGE plpgsql;

# --- End of database schema ---


XML_sample="""
  <法規>
    <法規性質>憲法</法規性質>
    <法規名稱>中華民國憲法</法規名稱>
    <法規網址>https://law.moj.gov.tw/LawClass/LawAll.aspx?pcode=A0000001</法規網址>
    <法規類別>憲法</法規類別>
    <最新異動日期>19470101</最新異動日期>
    <生效日期>
    </生效日期>
    <生效內容><![CDATA[]]></生效內容>
    <廢止註記>
    </廢止註記>
    <是否英譯註記>Y</是否英譯註記>
    <英文法規名稱>Constitution of the Republic of China (Taiwan)</英文法規名稱>
    <附件 />
    <沿革內容><![CDATA[1.中華民國三十六年一月一日國民政府令公布
  中華民國三十六年十二月二十五日施行
  中華民國三十五年十二月二十五日國民大會通過]]></沿革內容>
    <前言><![CDATA[中華民國國民大會受全體國民之付託，依據孫中山先生創立中華民國之遺
教，為鞏固國權，保障民權，奠定社會安寧，增進人民福利，制定本憲法
，頒行全國，永矢咸遵。]]></前言>
    <法規內容>
      <編章節>   第 一 章 總綱</編章節>
      <條文>
        <條號>第 1 條</條號>
        <條文內容><![CDATA[中華民國基於三民主義，為民有民治民享之民主共和國。]]></條文內容>
      </條文>
    </法規內容>

  </法規>
  <法規>

"""

data_spec="""
----- 
# 法律語法形式化 (Ver. 3.2 初版程式後)

## **一、核心想法：讓法律「不只人能懂，電腦也能透徹理解」**

我們的核心目標是升級法律的「可讀性」，不只是讓人們更容易理解法律，更要讓電腦也能夠像法律專家一樣，**透徹理解法律的結構、意涵、以及彼此之間的關聯性**。

**為什麼這個想法很重要？**

*   **突破自然語言的限制：**  傳統法律文件以自然語言寫成，人類閱讀理解沒問題，但電腦卻難以有效處理。 形式化就是要把自然語言的法律，轉換成電腦能直接處理的 **結構化資料**，讓法律知識不再只是「文字」，而是可以被電腦 **運算、分析、推理** 的「知識」。
*   **釋放 AI 在法律領域的潛力：**  有了結構化的法律知識，AI 才能真正深入法律領域，不再只是做簡單的關鍵字檢索。  AI 可以進行更複雜的法律分析、自動化合規檢查、智慧法律諮詢、甚至輔助法律制定，大幅提升法律工作的效率和品質。
*   **打造更智慧的法律體系：**  當法律知識被形式化、結構化之後，我們可以建構出一個更智慧的法律體系，讓法律知識更容易被存取、應用、更新、迭代，最終目標是建立一個更有效率、更公平、更貼近人民需求的法律環境。

## **二、架構設計：五層 Meta Data + 多模組協作，打造全方位法律知識引擎**

我們的架構設計，採用 **「五層 Meta Data + 多模組協作」** 的模式，將法律知識拆解成不同層次，並透過多個 Python 模組協作，打造一個全方位的法律知識引擎。

### **整體架構可以概括為五個核心層次 (Meta Data 類型)：**

1.  **法規 Meta Data (Law Meta Data)：**  【**巨觀概覽**】  提供整部法規的 **最上層、最巨觀** 的資訊，像是法規的「基本身份資料」，包括法規名稱、類別、主管機關、立法目的、標籤、相關法規、台灣觀點、法規權責、法規時間軸等等。  就像是法律的「百科名片」，讓電腦快速掌握法規的整體輪廓。

2.  **法條 Meta Data (Article Meta Data)：**  【**微觀解構**】  針對每一條法條，提供 **最微觀、最細緻** 的資訊，深入解構法條的「法律意涵」，包括條號、條文內容、適用情境、處理程序、法律效果、法律概念、標籤、法條關聯性、法律規則等等。  就像是法律的「DNA」，讓電腦深入理解每一條法條的構成要素和功能。

3.  **法律概念 Meta Data (Legal Concept Meta Data)：**  【**詞彙中心**】  獨立於法條之外，建立一個 **法律概念詞彙庫**，針對法律中重要的專業術語和概念進行標準化定義和解釋，包括詞彙名稱、定義、相關概念、相關法條、概念類別、同義詞、台灣觀點、範例、語意向量等等。  就像是法律的「詞彙表」和「知識圖譜」，讓電腦掌握法律的「共通語言」。

4.  **法規關聯性 Meta Data (Law Relationship Meta Data)：**  【**網絡連結**】  描述不同法規之間、法條與法規之間、以及法條與法條 (跨法規) 之間的 **外部關聯性**，包括關聯類型、主法規、關聯法規、關聯說明、台灣觀點等等。  就像是法律的「人脈網絡」，讓電腦理解法律之間互相引用、補充、定義的複雜關係。

5.  **法規階層關係 Meta Data (Law Hierarchy Relationship Meta Data)：**  【**體系結構**】  描述《政府採購法》與其他相關法規之間的 **階層關係**，例如子法規、上位概念、補充法規、參考法規等等，呈現法規體系內的結構性關聯，包括關係代號、主法規、關聯法規、階層關係類型、關聯說明、台灣觀點等等。  就像是法律的「組織架構圖」，讓電腦理解法律體系內部的權力結構和位階關係。

### **五層 Meta Data 之間彼此協作，共同構成一個完整的法律知識引擎，關係如下：**

*   **法規 Meta Data** 作為 **核心容器**，統轄整部法規的所有 Meta Data。
 Data**。
*   **法律概念 Meta Data** 提供法律詞彙的標準化定義，被 **法條 Meta Data 引用**，也作為 **語意分析** 的基礎。
*   **法規關聯性 Meta Data** 描述法規之間、法條之間的 **外部關聯性**，被 **法規 Meta Data 引用**，也用於 **跨法規分析**。
*   **法規階層關係 Meta Data** 描述法規在法律體系中的 **階層結構**，被 **法規 Meta Data 引用**，用於 **法律體系宏觀分析**。
* *法條 Meta Data** 是 **核心內容**，詳細描述每一條法條，並連結到 **法律概念 Meta Data** 和 **法條關聯性總覽 Meta
*   **程序流程圖 Meta Data** 和 **法規語意向量 Meta Data**  作為 **輔助分析資料**，被 **法規 Meta Data 引用**，用於 **程序模型建構** 和 **語意分析** 模組。

## **三、Meta Data 種類與範例 (Ver. 3.1 )**

以下分別說明這五種 Meta Data 的種類與範例 (以政府採購法為例)：

### **1. 法規 Meta Data (Law Meta Data)：【巨觀概覽，法律百科名片】**

*   **目的：** 提供整部法規的 **巨觀概覽資訊**，讓電腦快速掌握法規的基本輪廓。
*   **主要欄位：** (JSON 格式)

    ```json
    {
      "代號": "[法規 UUID 代號]",
      "法規名稱": "[法規完整名稱] (lawName)",
      "法規類別": "[法規類別，例如：法律、命令、行政規則] (lawCategory)",
      "法規詳細類別": {  //  🌟 新增：法規詳細類別 (lawDetailedCategory)
        "法律領域": "[法律領域分類，例如：行政法、民法]",
        "法律位階": "[法律位階分類，例如：法律、命令]",
        "主管機關": "[主管機關分類，例如：行政院、立法院]"
      },
      "法規版本": "[法規版本資訊] (lawVersion)",
      "主管機關": "[法規主管機關] (competentAuthority)",
      "簡述": "[法規簡短描述或立法目的] (summary)",
      "標籤": [  // (tags)
        "[標籤1]",
        "[標籤2]",
        "..."
      ],
      "相關法規": [  // (relatedLaws)
        "[相關法規1名稱]",
        "[相關法規2名稱]",
        "..."
      ],
      "台灣觀點": "[從台灣法律觀點對法規的簡要描述] (taiwanPerspective)",
      "法規權責": {  //  🌟 新增：法規權責 (lawAuthority)
        "立法機關": "[制定法規的立法機關/發布機關]",
        "主管機關": "[負責解釋、執行、管理法規的行政機關]",
        "施行機關": "[實際執行法規的機關]",
        "授權依據": "[若是子法規/行政規則，其母法授權/法源依據，沒有則留空]"
      },
      "法規時間軸": {  //  🌟 新增：法規時間軸 (lawTimeline)
        "公布日期": "[法規公布日期，YYYY-MM-DD]",
        "施行日期": "[法規施行日期，YYYY-MM-DD]",
        "修正歷史": [ // JSON 陣列記錄歷次修正
          {
            "修正日期": "[修正日期，YYYY-MM-DD]",
            "修正重點": "[簡述本次修正重點]"
          },
          // ...  其他修正紀錄
        ],
        "廢止日期": "[法規廢止日期，若未廢止則留空，YYYY-MM-DD]"
      },
      "程序流程圖": "[Mermaid 語法或其他格式的程序流程圖描述字串]", //  🌟 新增：法規層級程序流程圖 (procedureFlowchart)
      "法規語意向量": "[整部法規的語意向量表示，例如字串或指向向量檔案的連結]" // 🌟 新增：法規層級語意向量 (lawSemanticVector) - **Note: 實際向量資料可能不直接放在 JSON 中，這裡僅為示意**
    }
    ```

*   **JSON 範例 (政府採購法):**

    ```json
{
  "代號": "LT_政府採購法",
  "法規名稱": "政府採購法",
  "法規類別": "法律",
  "法規詳細類別": {
    "法律領域": "行政法 - 經濟行政",
    "法律位階": "法律",
    "主管機關": "行政院公共工程委員會"
  },
  "法規版本": "現行版本 (民國 108 年 05 月 22 日修正)",
  "主管機關": "行政院公共工程委員會",
  "簡述": "為建立政府採購制度，依公平、公開之採購程序，提升採購效率與功能，確保採購品質，並維護公共利益及公平合理之採購環境，特制定本法。",
  "標籤": [
    "政府採購",
    "公共工程",
    "招標",
    "決標",
    "履約管理",
    "驗收",
    "爭議處理",
    "採購人員",
    "廠商"
  ],
  "相關法規": [
    "政府採購法施行細則",
    "採購申訴審議委員會組織準則",
    "工程施工查核小組組織準則",
    "採購稽核小組組織準則",
    "共同供應契約實施辦法",
    "電子採購作業辦法",
    "最有利標評選辦法",
    "機關辦理選擇性招標資格審查作業注意事項",
    "機關辦理工程採購廠商評選委員會組織準則暨評選辦法",
    "機關委託專業服務廠商評選及計費辦法",
    "機關委託技術服務廠商評選及計費辦法",
    "機關委託資訊服務廠商評選及計費辦法",
    "機關辦理社會福利服務採購評選辦法",
    "機關辦理設計競賽廠商評選辦法",
    "機關辦理藝文採購監督管理辦法",
    "中小企業扶助辦法",
    "優先採購環境保護產品辦法"
  ],
  "台灣觀點": "《政府採購法》是台灣公共部門進行採購行為的最重要法律依據，規範了從招標、決標、履約、驗收到爭議處理等各個環節，旨在建立公平、公開、效率的採購制度，防止弊端，提升公共工程品質，是台灣法制體系中非常重要的一部法律。",
  "法規權責": {
    "立法機關": "立法院",
    "主管機關": "行政院公共工程委員會",
    "施行機關": "各級政府機關、公立學校、公營事業",
    "授權依據": null
  },
  "法規時間軸": {
    "公布日期": "1999-05-27",
    "施行日期": "2000-05-27",
    "修正歷史": [
      {
        "修正日期": "2001-01-10",
        "修正重點": "修正第七條條文"
      },
      {
        "修正日期": "2002-02-06",
        "修正重點": "大幅度修正，包含第六、十一、十三、二十、二十二...等多條條文，並增訂多條條文及刪除第六十九條條文"
      },
      {
        "修正日期": "2007-07-04",
        "修正重點": "修正第八十五條之一條文"
      },
      {
        "修正日期": "2011-01-26",
        "修正重點": "修正第十一、五十二、六十三條條文"
      },
      {
        "修正日期": "2016-01-06",
        "修正重點": "修正第八十五條之一、八十六條條文；增訂第七十三條之一條文"
      },
      {
        "修正日期": "2019-05-22",
        "修正重點": "本次修正條文較多，包含第四、十五、十七、二十二...等條文，並增訂第十一條之一、二十六條之一、七十條之一條文"
      }
    ],
    "廢止日期": null
  },
  "程序流程圖": ",
  "法規語意向量": "[政府採購法整部法規的語意向量表示字串或檔案連結，例如：gpa_law_semantic_vector_v1.0.vec]"
}
    ```

### **2. 法條 Meta Data (Article Meta Data)：【微觀解構，法律DNA】**

*   **目的：** 提供每一條法條的 **詳細資訊**，深入解構法條的法律意涵和關聯性。
*   **主要欄位：** (JSON 格式)

    ```json
    {
      "代號": "[法條 UUID 代號]",
      "條號": "[法條條號，例如：第一條] (articleNumber)",
      "條文內容": "[完整的法條文字] (articleContent)",
      "法律意涵": {  // (legalMeaning)
        "適用情境": "[法條主要適用的情況或背景]",
        "處理程序": "[法條規定的具體處理步驟或流程]",
        "法律效果": "[法條產生的法律效果或影響]",
        "法律概念": [  // (legalConcepts)
          "[法律概念詞彙1]",
          "[法律概念詞彙2]",
          "..."
        ],
        "標籤": [  // (tags)
          "[法條標籤1]",
          "[法條標籤2]",
          "..."
        ]
      },
      "法條關聯性": {  // (articleRelationships)
        "上位概念": ["[上位概念法條條號列表]"],
        "下位概念": ["[下位概念法條條號列表]"],
        "引用關係": ["[引用關係法條條號列表]"],
        "定義關係": ["[定義關係法條條號列表]"],
        "程序關係": ["[程序關係法條條號列表]"],
        "補充關係": ["[補充關係法條條號列表]"],
        "例外關係": ["[例外關係法條條號列表]"],
        "構成要件關係": ["[構成要件關係法條條號列表]"],
        "其他關聯": ["[其他關聯法條條號列表]"]
      },
      "法律規則": [ // 🌟 新增：法條層級法律規則 (lawRules)
        {
          "規則代號": "[法律規則 UUID 代號]",
          "規則描述": "[簡述規則目的/指引]",
          "規則類型": "[IF-THEN / 邏輯規則 / 決策樹 / 指引]",
          "規則內容": "[文字描述規則內容/指引內容]",
          "規則來源": "[指向法條條號/點次]",
          "台灣觀點": "[從台灣法律觀點補充說明，可選填]"
        }
        // ... 其他法律規則
      ],
        "法條時間軸": {  //  🌟 新增：法條時間軸 (articleTimeline)
          "修正歷史": [ // JSON 陣列記錄法條歷次修正
            {
              "修正日期": "[修正日期，YYYY-MM-DD]",
              "修正重點": "[簡述本次法條修正重點]"
            },
          // ...  其他法條修正紀錄
        ],
      }
    }
    ```

*   **JSON 範例 (政府採購法 第二條):**

    ```json
{
    "代號": "LA_政府採購法_第二條",
    "條號": "第二條",
    "條文內容": "本法所稱採購，指工程之定作、財物之買受、定製、承租及勞務之委任或僱傭等。",
    "法律意涵": {
      "適用情境": "界定本法所稱「採購」之定義範圍。",
      "處理程序": null,
      "法律效果": "明確本法規範對象，確立「採購」行為之類型。",
      "法律概念": [
        "採購",
        "工程",
        "定作",
        "財物",
        "買受",
        "定製",
        "承租",
        "勞務",
        "委任",
        "僱傭"
      ],
      "標籤": [
        "定義",
        "採購範圍",
        "核心概念"
      ]
    },
    "法條關聯性": {
      "上位概念": [
        "第一條"
      ],
      "下位概念": [
        "第七條",
        "第八條",
        "第九條"
      ],
      "引用關係": [],
      "定義關係": [
        "第七條",
        "第八條"
      ],
      "程序關係": [],
      "補充關係": [],
      "例外關係": [],
      "構成要件關係": [],
      "其他關聯": []
    },
    "法律規則": [
      {
        "規則代號": "rule-gpa-002-01",
        "規則描述": "採購定義規則",
        "規則類型": "定義規則",
        "規則內容": "採購包含：工程之定作、財物之買受、定製、承租及勞務之委任或僱傭等行為。",
        "規則來源": "第二條",
        "台灣觀點": "本條定義為理解政府採購法適用範圍的起點，後續條文皆以此定義為基礎展開。"
      }
    ],
    "法條時間軸": {
      "修正歷史": []
    }
  }
    ```


### **3. 法律概念 Meta Data (Legal Concept Meta Data)：【詞彙中心，法律詞彙表】**

*   **目的：** 建立 **法律概念詞彙庫**，提供法律術語的標準化定義和解釋。
*   **主要欄位：** (JSON 格式)

    ```json
    {
      "代號": "[法律概念 UUID 代號]",
      "詞彙名稱": "[法律概念的名稱] (conceptName)",
      "定義": "[法律概念的簡潔定義] (definition)",
      "相關概念": ["[相關法律概念列表] (relatedConcepts)"],
      "相關法條": ["[相關法條條號列表] (relatedArticles)"],
      "概念類別": "[概念的分類] (conceptCategory)",
      "同義詞": ["[同義詞列表] (synonyms)"],
      "台灣觀點": "[從台灣法律觀點對概念的補充說明] (taiwanPerspective)",
      "範例": "[概念的具體範例] (example)",
      "語意向量": "[法律概念詞彙的語意向量表示，例如字串或指向向量檔案的連結]" //  🌟 新增：法律概念語意向量 (conceptSemanticVector) - **Note: 實際向量資料可能不直接放在 JSON 中，這裡僅為示意**
    }
    ```

*   **JSON 範例 (法律概念：採購):**

    ```json
  {
    "代號": "LC_政府採購法_採購",
    "詞彙名稱": "採購",
    "定義": "指機關為取得工程、財物或勞務，所為之訂約行為。",
    "相關概念": [
      "工程",
      "財物",
      "勞務",
      "定作",
      "買受",
      "定製",
      "承租",
      "委任",
      "僱傭",
      "契約"
    ],
    "相關法條": [
      "第二條",
      "第三條",
      "第七條"
    ],
    "概念類別": "核心概念 - 定義",
    "同義詞": [
      "購買",
      "購置",
      "發包",
      "辦理採購"
    ],
    "台灣觀點": "在台灣的《政府採購法》體系中，「採購」是整個法律的核心概念，所有規範都圍繞著機關如何合法、公平、有效率地進行採購行為。其定義範圍廣泛，涵蓋了各種政府取得所需資源的方式。",
    "範例": "政府機關為了興建新的辦公大樓（工程之定作）、購買辦公桌椅（財物之買受）、委託律師事務所提供法律諮詢服務（勞務之委任），都屬於政府採購法所規範的「採購」行為。",
    "語意向量": "[ '採購' 法律概念的語意向量表示字串或檔案連結，例如：concept_procurement_vec_v1.0.vec ]"
  }
    ```

### **4. 法規階層關係 Meta Data (Law Hierarchy Relationship Meta Data)：【體系結構，法律組織圖】**

*   **目的：** 描述《政府採購法》與其他相關法規之間的 **階層關係**，呈現法規體系內的結構性關聯。
*   **主要欄位：** (JSON 格式)

    ```json
    {
      "關係代號": "[法規階層關係 UUID 代號]",
      "主法規": "[主法規/行政規則 名稱] (primaryLaw)", //  調整：主法規 擴展為更通用的 "主法規/行政規則 名稱"
      "關聯法規": "[關聯法規/行政規則 名稱] (relatedLaw)", //  調整：關聯法規 擴展為更通用的 "關聯法規/行政規則 名稱"
      "階層關係類型": "[子法規 / 上位概念 / 補充法規 / 參考法規 / 平行法規 / 下位行政規則 / 補充行政規則 / 參考行政規則] (hierarchyType)", // 🌟 調整：階層關係類型 擴展到包含行政規則的階層關係類型
      "關聯說明": "[詳細描述階層關係] (relationshipDescription)",
      "台灣觀點": "[從台灣法律觀點補充說明] (taiwanPerspective)"
    }
    ```

*   **JSON 範例 (政府採購法 - 政府採購法施行細則 子母法關係):**

    ```json
  {
    "關係代號": "LH_政府採購法_政府採購法施行細則",
    "主法規": "政府採購法",
    "關聯法規": "政府採購法施行細則",
    "階層關係類型": "子法規",
    "關聯說明": "《政府採購法施行細則》是《政府採購法》的授權子法，依據母法第一百一十三條授權訂定，詳細規範母法中原則性條文的具體執行細節與操作程序。",
    "台灣觀點": "在台灣的法制體系下，施行細則扮演著落實法律、方便實務操作的重要角色。《政府採購法施行細則》與《政府採購法》母法共同構成完整的政府採購法規範體系，實務上兩者必須互相參照適用。"
  }
    ```


### **5. 法規關聯性 Meta Data (Law Relationship Meta Data)：【網絡連結，法律人脈網】**

*   **目的：** 描述不同法規之間、法條與法規之間、法條與法條 (跨法規) 之間的 **外部關聯性**。
*   **主要欄位：** (JSON 格式)

    ```json
    {
      "代號": "[法規關聯性 UUID 代號]",
      "關聯類型": "[法規-法規 / 法條-法規 / 法條-法條 / 法規-行政規則 / 法條-行政規則 / 行政規則-行政規則 / 行政規則-法條] (relationshipType)", //  🌟 調整：關聯類型 擴展到包含行政規則的各種關聯類型
      "主法規": "[主法規/行政規則 名稱] (primaryLaw)", //  調整：主法規  擴展為更通用的 "主法規/行政規則 名稱"
      "主法規條號": "[主法規/行政規則 條號/點次，若為法規-法規/法規-行政規則關聯則留空] (primaryArticleNumber)", //  調整：主法規條號 擴展為更通用的 "主法規/行政規則 條號/點次"
      "關聯法規": "[關聯法規/行政規則 名稱] (relatedLaw)", //  調整：關聯法規 擴展為更通用的 "關聯法規/行政規則 名稱"
      "關聯法規條號": "[關聯法規/行政規則 條號/點次，若為法規-法規/法條-法規/法規-行政規則/行政規則-行政規則/法條-行政規則關聯則留空] (relatedArticleNumber)", // 調整：關聯法規條號 擴展為更通用的 "關聯法規/行政規則 條號/點次"
      "關聯說明": "[簡述關聯性] (relationshipDescription)",
      "台灣觀點": "[從台灣法律觀點補充說明] (taiwanPerspective)"
    }
    ```

*   **JSON 範例 (政府採購法 - 政府採購法施行細則 子法規關聯):**

    ```json
  {
    "代號": "LR_政府採購法_9",
    "關聯類型": "法條-法規",
    "主法規": "政府採購法",
    "主法規條號": "第五十六條",
    "關聯法規": "最有利標評選辦法",
    "關聯法規條號": null,
    "關聯說明": "法條授權子法規",
    "台灣觀點": "《政府採購法》第五十六條授權訂定最有利標之評選辦法，而《最有利標評選辦法》即為落實此授權之法規命令，詳細規範最有利標之評選程序與標準。"
  }
    ```


## **四、操作步驟：從法規條文到 Meta Data (Ver 3.1)**

未來你只需要放入新的法規條文 (或行政規則)，就可以依照以下步驟進行「法律語法形式化」：

1.  **取得法規/行政規則條文：**  取得目標法規或行政規則的完整條文內容 (TXT 格式)。

2.  **建立法規 Meta Data：**  根據[政府採購法]的整體資訊，按照法律語法形式化的設計，依照裡面範例格式，產生 Meta data

3.  **建立法律概念 Meta Data：**  在建立法條 Meta Data 的過程中，你會不斷遇到重要的法律概念詞彙。 將這些詞彙整理出來，針對每一個法律概念，填寫法律概念 Meta Data 的各個欄位 (詞彙名稱、定義、相關概念、相關法條、概念類別、同義詞、台灣觀點、範例、語意向量)，建立法律概念詞彙庫。 **[提示：「定義」和「語意向量」欄位可考慮使用 LLM 輔助生成]**

4.  **建立法規階層關係 Meta Data：**  分析目標法規/行政規則與其他相關法規之間的階層關係 (子法規、上位概念、補充法規等)，填寫法規階層關係 Meta Data。 **[提示：法規階層關係的判斷，建議以法律專家人工判斷為主，LLM 可輔助提供建議]**

5.  **逐條建立法條 Meta Data：**  針對法規/行政規則中的每一條條文 (或要點、指引)，進行以下步驟：
    *   填寫法條 Meta Data 的基本欄位 (代號、條號、條文內容)。
    *   詳細分析 **"法律意涵"**，結構化描述條文的適用情境、程序、效果、法律概念、標籤等資訊。 **[提示：「法律意涵」的各個子欄位，可考慮使用 LLM 輔助分析和填寫]**
    *   仔細判斷 **"法條關聯性"**，標註條文與其他法條之間的各種關聯類型 (上位概念、下位概念、引用關係、定義關係、程序關係、補充關係、例外關係、構成要件關係、其他關聯)。 **[提示：法條關聯性可考慮使用 LLM 輔助分析和標註]**
    *   針對 **"法律規則"** 欄位，將法條中蘊含的法律規則 (IF-THEN 規則、邏輯規則、決策樹規則、或指引) 結構化地描述出來。 **[提示：法律規則的提取和表示，可考慮使用 LLM 輔助，並參考先前提供的法律規則表示範例]**
6.  **建立法條關聯性總覽 Meta Data：**  彙整在建立法條 Meta Data 時標註的法條關聯性資訊，整理成法條關聯性總覽 Meta Data，呈現整部法規/行政規則的法條關係網絡。  **[提示：法條關聯性可考慮使用 LLM 輔助分析和標註]**
7.  **建立程序流程圖 Meta Data：**  針對法規/行政規則中規範的程序流程，使用 Mermaid 語法或其他圖形化方式，繪製程序流程圖，並將描述字串填寫到法規 Meta Data 的 `程序流程圖` 欄位。 **[提示：程序流程圖的繪製，可先以人工為主，未來可考慮使用 NLP 技術和 LLM 輔助自動生成]**

8.  **建立法規語意向量 Meta Data 和法律概念語意向量 Meta Data：**  使用詞向量模型 (Word Embeddings) 或句向量模型 (Sentence Embeddings) 等 NLP 技術，將整部法規/行政規則的文本，以及法律概念詞彙庫中的每一個詞彙，轉換成語意向量，並將向量資料 (或向量檔案連結) 填寫到法規 Meta Data 的 `法規語意向量` 欄位和法律概念 Meta Data 的 `語意向量` 欄位。 **[提示：語意向量的生成，可使用 Python 的 Gensim, spaCy, Sentence-Transformers 等 NLP 函式庫]**

9.  **迭代與完善：**  Meta Data 的建立是一個持續迭代的過程。 完成初步建置後，可以邀請法律專家進行審核和驗證，並根據實際應用情況不斷完善和優化 Meta Data 的品質。  **[提示：Meta Data 的迭代完善，可以結合使用者回饋、AI 分析結果、以及法律專家的意見，不斷提升 Meta Data 的準確性和實用性]**

## **五、重要原則：實用、漸進、協作**

*   **實用性優先：**  我們的設計目標是為了實際應用，所以 Meta Data 的設計要以實用性為導向，優先處理常見、迫切的需求。
*   **逐步擴展：**  Meta Data 的建置是一個長期工程，不用追求一步到位，可以從小規模開始，逐步擴展範圍和深度。
*   **強調協作：**  法律語法形式化需要法律專業知識和技術的結合，強調法律專家、技術人員、以及使用者的共同參與和協作。

希望這份完整的設計說明能幫助你順利地將「法律語法形式化」方法應用於其他法規！ 如果你在實踐過程中遇到任何問題，或是有任何新的想法，都非常歡迎隨時提出來一起討論喔！
-----


----- File: 預算法.txt -----
**法規名稱：預算法**
**關鍵資訊摘要（300字以內）**
1. **適用範圍**：中華民國中央政府預算之籌劃、編造、審議、成立及執行。
2. **預算目的**：提供政府一定期間內完成作業所需經費，基於財務管理和總體經濟均衡原則。
3. **預算類型**：
	* **總預算**：中央政府每一會計年度之歲入、歲出、債務之舉借與以前年度歲計賸餘之移用及債務之償還全部所編之預算。
	* **單位預算**：公務機關有法定預算之機關單位及特種基金之預算。
	* **附屬單位預算**：特種基金應於總預算中編列一部分歲入、歲出之基金預算。
4. **預算編製程序**：
	* 行政院訂定施政方針。
	* 各主管機關擬定施政計畫、事業計畫及歲入、歲出概算。
	* 中央主計機關審核、彙整編成總預算案。
	* 行政院提出立法院審議。
5. **預算執行與管理**：
	* 各機關按法定預算編造歲入、歲出分配預算。
	* 中央主計機關核定分配預算。
	* 執行期間如有變更，應報請主管機關核轉中央主計機關備案。
6. **追加預算與特別預算**：
	* 因法律增加業務、增設新機關、重大事故超過法定預算或應補列追加預算者，得請求提出追加歲出預算。
	* 國防緊急設施、國家經濟重大變故、重大災變或不定期重大政事，行政院得提出特別預算。

summary_sample = """
-- summary sample
**政府採購法** 
**簡要摘要（300字以內）**
*   **目的**：建立政府採購制度，確保採購品質、提升效率與功能
*   **適用範圍**：政府機關、公立學校、公營事業及接受政府補助的法人或團體
*   **主要內容**：
    1.  **採購原則**：維護公共利益、公平合理
    2.  **採購方式**：公開招標、選擇性招標、限制性招標
    3.  **招標程序**：公告、投標、開標、決標
    4.  **決標原則**：最低標、最有利標、複數決標
    5.  **廠商資格**：不得限制競爭，基本資格及特定資格由主管機關定之
    6.  **異議與申訴**：廠商可提出異議及申訴，採購申訴審議委員會負責審議
    7.  **契約管理**：訂定標準契約範本，規定履約責任、保證金及解除條件
    8.  **稽核與監督**：成立採購稽核小組，審計機關得隨時稽察
*   **其他重要規定**：
    1.  **履約爭議調解**：可申請調解或仲裁
    2.  **扶助中小企業**：主管機關得採取措施扶助中小企業承包政府採購
    3.  **特殊採購**：軍事機關、緊急處置、國際組織等採購得不適用部分規定
"""

keywords_sample = """
"三民主義|民主共和國|國民大會|總統|行政院|立法院|司法院|考試院|監察院|憲法解釋|法律與命令|中央與地方政府|省縣自治|國防安全|外交政策|經濟發展|社會福利|教育文化|人權保障|憲法修改" 
"""

tasks_list_stakeholders = """
task_id,task_group,task_name,task_desc,prompt_golden,response_golden,used_sql
1.1,律師,依名稱快速檢索法規,"-
  律師在準備案件時，能快速根據法規名稱（或部分名稱）進行模糊查詢，以定位相關法規。-
  獲取法規的基本身份資訊，如PCode、性質、類別等，作為初步篩選依據。","作為一名律師，我需要查詢所有名稱包含「政府採購」
  的法規，以便快速了解相關法律框架。",法規名稱：政府採購法,"SELECT xml_law_name, pcode, xml_law_nature,
  xml_law_category FROM laws WHERE xml_law_name ILIKE '%政府採購%';"
1.2,律師,獲取法規完整內容與條文細節,"-
  律師在準備複雜案件時，需要獲取特定法規的完整內容，包括所有法條的詳細文本，以便進行全面分析。-
  包含法規基本資訊及所有法條內容，便於上下文理解。","作為律師，我需要查看PCode為「A0000001」的《中華民國憲法》所有條文
  內容，以確保我的法律意見完整。","法規名稱：中華民國憲法, 條文內容：...",SELECT f_get_law_full_content('A0000001');
1.3,律師,檢索特定法條的詳細內容,"- 律師在分析具體案情時，能精準查詢特定法規的特定法條內容，以確認其適用性。-
  包含條文內容、編章節等，提供法條的完整語境。","作為律師，我需要查詢「政府採購法」的「第 1
  條」條文內容，以確認其立法宗旨。","法規名稱：政府採購法, 條號：第 1 條, 條文內容：為建立政府採購制度，依公平、公開之
  採購程序，提升採購效率與功能，確保採購品質，並維護公共利益及公平合理之採購環境，特制定本法。","SELECT
  f_get_article_details_with_concepts('P0000001', '第 1 條');"
1.4,律師,分析特定法條相關法律概念,"-
  律師在分析特定法條時，能快速識別該法條中提及或相關的法律概念，深入理解法條的核心構成要素。- 幫助理解法條的核心術語及
  其在條文中的應用。",作為律師，我需要分析《政府採購法》第2條，請列出其中涉及的所有法律概念。,"概念名稱：採購,
  概念名稱：工程, 概念名稱：財物","SELECT lc.name FROM legal_concepts lc JOIN article_legal_concept alc ON lc.id =
  alc.legal_concept_id JOIN articles a ON alc.article_id = a.id JOIN laws l ON a.law_id = l.id WHERE l.pcode =
  'P0000001' AND a.xml_article_number = '第 2 條';"
1.5,律師,識別法規的外部關聯法規,"-
  律師在處理涉及多部法規的案件時，能快速識別特定法規所涉及的所有外部關聯法規，確保不遺漏任何相關規範。-
  包含關聯類型和關聯說明，提供跨法規的參考依據。","作為律師，我需要了解《政府採購法》所有外部關聯的法規，以便全面評估案
  件。","關聯法規：最有利標評選辦法, 關聯類型：法條-法規, 關聯說明：法條授權子法規","SELECT lr.related_law_name,
  lr.relationship_type, lr.data->>'關聯說明' FROM law_relationships lr JOIN laws l ON lr.main_law_id = l.id WHERE
  l.xml_law_name = '政府採購法';"
2.1,法官,獲取法規完整內容與條文細節,"-
  法官在審理或準備複雜案件時，需要獲取特定法規的完整內容，包括所有法條的詳細文本，以便進行全面分析。-
  包含法規基本資訊及所有法條內容，便於上下文理解。","作為法官，我需要查看PCode為「A0000001」的《中華民國憲法》所有條文
  內容，以確保判決符合憲法精神。","法規名稱：中華民國憲法, 條文內容：...",SELECT f_get_law_full_content('A0000001');
2.2,法官,檢索特定法條的詳細內容,"- 法官在分析具體案情時，能精準查詢特定法規的特定法條內容，以確認其適用性。-
  包含條文內容、編章節等，提供法條的完整語境。","作為法官，我需要查詢「政府採購法」的「第 1
  條」條文內容，以確認其立法宗旨。","法規名稱：政府採購法, 條號：第 1 條, 條文內容：為建立政府採購制度，依公平、公開之
  採購程序，提升採購效率與功能，確保採購品質，並維護公共利益及公平合理之採購環境，特制定本法。","SELECT
  f_get_article_details_with_concepts('P0000001', '第 1 條');"
2.3,法官,獲取法律概念的精確定義,"-
  法官在解釋法律術語時，能快速查詢其精確定義、相關概念和相關法條，以確保判決用語的精確性。- 適用於理解特定法律術語，提
  供多維度解釋。",作為法官，我需要查詢「採購」的法律概念定義，以確保判決用語的精確性。,"概念名稱：採購,
  定義：指機關為取得工程、財物或勞務，所為之訂約行為。",SELECT data->>'定義' FROM legal_concepts WHERE name = '採購';
2.4,法官,審閱法規的修正歷史,"-
  法官在處理跨時間的案件時，能審閱特定法規的歷次修正歷史和修正重點，理解法律條文的演變過程及其對案件的影響。-
  追溯法規的演變過程，分析歷史變革對法律適用的影響。","作為法官，我需要審閱《政府採購法》的修正歷史，以了解其條文變遷對
  本案的影響。","修正日期：2001-01-10, 修正重點：修正第七條條文","SELECT law_metadata->'法規時間軸'->'修正歷史' FROM
  laws WHERE xml_law_name = '政府採購法';"
2.5,法官,識別法條中的法律規則,"-
  法官在構建判決書時，能精確提取特定法條中蘊含的法律規則（如IF-THEN邏輯），以便清晰地闡述法律依據。-
  幫助提取法條中的邏輯和指引，支持自動化法律分析。","作為法官，我需要從《政府採購法》第2條中提取其核心法律規則，以便在
  判決中引用。","規則描述：採購定義規則, 規則類型：定義規則,
  規則內容：採購包含：工程之定作、財物之買受、定製、承租及勞務之委任或僱傭等行為。","SELECT
  article_metadata->'法律規則' FROM articles a JOIN laws l ON a.law_id = l.id WHERE l.xml_law_name = '政府採購法' AND
  a.xml_article_number = '第 2 條';"
3.1,檢察官,依名稱快速檢索法規,"-
  檢察官在準備案件時，能快速根據法規名稱（或部分名稱）進行模糊查詢，以定位相關法規。-
  獲取法規的基本身份資訊，如PCode、性質、類別等，作為初步篩選依據。","作為一名檢察官，我需要查詢所有名稱包含「政府採購
  」的法規，以便快速了解相關法律框架。",法規名稱：政府採購法,"SELECT xml_law_name, pcode, xml_law_nature,
  xml_law_category FROM laws WHERE xml_law_name ILIKE '%政府採購%';"
3.2,檢察官,檢索特定法條的詳細內容,"-
  檢察官在分析具體案情時，能精準查詢特定法規的特定法條內容，以確認其適用性。-
  包含條文內容、編章節等，提供法條的完整語境。","作為檢察官，我需要查詢「政府採購法」的「第 1
  條」條文內容，以確認其立法宗旨。","法規名稱：政府採購法, 條號：第 1 條, 條文內容：為建立政府採購制度，依公平、公開之
  採購程序，提升採購效率與功能，確保採購品質，並維護公共利益及公平合理之採購環境，特制定本法。","SELECT
  f_get_article_details_with_concepts('P0000001', '第 1 條');"
3.3,檢察官,追溯法條引用的關聯法規,"-
  檢察官在分析特定法條的適用範圍或依據時，能追溯該法條引用或關聯的其他法規，理解其外部依據或影響。-
  幫助理解法條的外部依據或影響，揭示法律條文間的引用網絡。","作為檢察官，我需要確認《政府採購法》第56條引用了哪些關聯法
  規，以確保起訴的依據。","關聯法規：最有利標評選辦法, 關聯類型：法條-法規, 關聯說明：法條授權子法規","SELECT
  lr.related_law_name, lr.relationship_type, lr.data->>'關聯說明' FROM law_relationships lr JOIN articles a ON
  lr.main_article_id = a.id JOIN laws l ON a.law_id = l.id WHERE l.xml_law_name = '政府採購法' AND a.xml_article_number
  = '第 56 條';"
3.4,檢察官,審閱特定法條的修正歷史,"-
  檢察官在分析特定法條的適用性時，能審閱該法條的歷次修正歷史和修正重點，精確判斷在特定時間點應適用的條文版本。-
  追溯法條的演變過程，精確判斷特定時間點的適用條文。","作為檢察官，我需要了解《政府採購法》第2條的修正歷史，以確認其在
  案發時的具體內容。",修正歷史：無,"SELECT article_metadata->'法條時間軸'->'修正歷史' FROM articles a JOIN laws l ON
  a.law_id = l.id WHERE l.xml_law_name = '政府採購法' AND a.xml_article_number = '第 2 條';"
3.5,檢察官,提取法條的法律意涵,"-
  檢察官在分析案件時，能深入理解特定法條的適用情境、處理程序和法律效果，以便將法律條文應用於具體事實。-
  深入理解法條的實際作用，支持法律推理。","作為檢察官，我需要了解《政府採購法》第2條的法律意涵，包括其適用情境和法律效
  果。","適用情境：界定本法所稱「採購」之定義範圍。, 法律效果：明確本法規範對象，確立「採購」行為之類型。","SELECT
  article_metadata->'法律意涵' FROM articles a JOIN laws l ON a.law_id = l.id WHERE l.xml_law_name = '政府採購法' AND
  a.xml_article_number = '第 2 條';"
4.1,被告/一般民眾,依關鍵字搜尋法規及摘要,"- 被告或一般民眾在不熟悉法律PCode或名稱時，能透過關鍵字在法規名稱、LL
  M摘要或LLM關鍵字中進行廣泛搜尋，以找到可能相關的法規。- 適用於廣泛的法規內容探索，提供初步的法規概覽。","我是一名被告
  ，想了解與「採購」相關的法律，請幫我搜尋所有包含此關鍵字的法規。",法規名稱：政府採購法,"SELECT
  f_search_laws_by_keyword('採購');"
4.2,被告/一般民眾,獲取法律概念的精確定義,"-
  被告或一般民眾在遇到不熟悉的法律術語時，能快速查詢其精確定義、相關概念和相關法條，以消除理解上的障礙。- 適用於理解特
  定法律術語，提供多維度解釋。",我是一名被告，不明白「採購」在法律上的確切含義，請幫我查詢其定義。,"概念名稱：採購,
  定義：指機關為取得工程、財物或勞務，所為之訂約行為。",SELECT data->>'定義' FROM legal_concepts WHERE name = '採購';
4.3,被告/一般民眾,提供法規的簡要摘要,"-
  被告或一般民眾在快速了解一部法規的核心內容時，能獲取由LLM生成的簡要摘要，以便快速掌握其主旨。-
  提供法規的簡要概覽，降低法律理解門檻。",我是一名被告，請幫我提供《政府採購法》的簡要摘要，讓我快速了解。,"目的：建
  立政府採購制度，確保採購品質、提升效率與功能...",SELECT llm_summary FROM laws WHERE xml_law_name = '政府採購法';
4.4,被告/一般民眾,解釋法律概念的通俗含義,"-
  被告或一般民眾在遇到法律術語時，能獲取其通俗易懂的解釋，幫助他們理解法律文件或法庭用語。-
  簡化法律概念，提升大眾法律素養。",我不太懂「採購」在法律上具體指什麼，請用簡單的話解釋一下。,"採購是指政府機關為了
  取得工程、財物或勞務，所進行的訂約行為。",SELECT data->>'定義' FROM legal_concepts WHERE name = '採購';
4.5,被告/一般民眾,根據情境推薦相關法條,"-
  被告或一般民眾在面臨特定法律情境時，能根據其描述獲取相關法條的推薦，以便初步了解可能適用的法律規範。- 根據用戶情境提
  供相關法條，輔助初步法律判斷。",我遇到一個關於政府工程招標的問題，請推薦相關的法條給我。,"法規名稱：政府採購法,
  條號：第 1 條, 條文內容：...","SELECT l.xml_law_name, a.xml_article_number, a.xml_article_content FROM articles a
  JOIN laws l ON a.law_id = l.id WHERE a.xml_article_content ILIKE '%招標%' LIMIT 3;"
5.1,合規人員,追蹤近期異動的法規,"-
  合規人員在確保公司政策符合最新法規時，需要追蹤最新異動的法規，以便及時更新相關政策或資料庫。- 適用於追蹤近期法規變動，
  確保資訊的時效性。",請列出所有最新異動日期在「2024-01-01」之後的法規，以便我更新合規清單。,"法規名稱：政府採購法,
  最新異動日期：2019-05-22","SELECT xml_law_name, xml_latest_change_date FROM laws WHERE xml_latest_change_date >
  '2024-01-01';"
5.2,合規人員,識別法規的主管機關,"-
  企業法務或合規人員在進行合規檢查時，能快速識別特定法規的主管機關，以便了解其監管範圍和責任歸屬。-
  了解法規的歸屬和管理單位，明確合規責任。",作為企業法務，我需要知道《政府採購法》的主管機關是誰，以便聯繫相關部門。,行政院公共工程委員會,SELECT law_metadata->'法規權責'->>'主管機關' FROM laws WHERE xml_law_name = '政府採購法';
5.3,合規人員,確認法規的現行有效性,"-
  合規人員在進行法律諮詢或合規審查時，能快速確認特定法規是否仍為現行有效，避免引用已廢止的規範。-
  確保法律規範的時效性，避免錯誤引用。",我需要確認《中華民國憲法》是否仍為現行有效法規。,是,"SELECT CASE WHEN
  xml_abolition_mark IS NULL OR xml_abolition_mark = '' THEN '是' ELSE '否' END AS is_active FROM laws WHERE
  xml_law_name = '中華民國憲法';"
5.4,合規人員,查詢特定主管機關負責的法規清單,"-
  合規人員在分析某一主管機關的職責範圍時，能查詢其負責的所有法規，以便進行職能評估或政策研究。- 了解單一機關的職責範圍
  ，支持政府職能分析。",作為合規人員，我需要列出「行政院公共工程委員會」負責的所有法規。,政府採購法,"SELECT
  xml_law_name FROM laws WHERE law_metadata->'法規權責'->>'主管機關' = '行政院公共工程委員會';"
5.5,合規人員,評估法規的規模與複雜度,"-
  合規人員在規劃合規專案時，能統計特定法規包含的法條總數，以評估其規模和複雜度。- 提供快速了解法規規模的資訊，支持專案
  規劃。",我需要知道《政府採購法》共有多少條法條，以便評估合規專案的工作量。,政府採購法共有 113 條法條。,"SELECT
  COUNT(*) FROM articles a JOIN laws l ON a.law_id = l.id WHERE l.pcode = 'P0000001';"
6.1,法律研究人員,依類別篩選相關法規,"-
  法律研究人員在探索特定法律領域時，能根據法規類別進行篩選，快速聚焦於相關法規群組。- 獲取該類別下的所有法規名稱和PCode
  。",我是一名法律研究員，想了解所有屬於「憲法」類別的法規，請幫我列出。,法規名稱：中華民國憲法,"SELECT
  f_search_laws_by_category('憲法');"
6.2,法律研究人員,追溯法律概念的相關法條,"-
  法律研究人員在追溯某一法律概念在不同法規中的應用時，能查詢哪些法條與該概念相關，以便進行跨法規的比較分析。-
  幫助追溯概念在法規中的應用，理解其廣泛性。",我正在研究「採購」這個概念，請幫我找出所有與此概念相關的法條。,"法規名稱
  ：政府採購法, 條號：第 2 條, 法規名稱：政府採購法, 條號：第 3 條","SELECT l.xml_law_name, a.xml_article_number FROM
  articles a JOIN article_legal_concept alc ON a.id = alc.article_id JOIN legal_concepts lc ON alc.legal_concept_id =
  lc.id JOIN laws l ON a.law_id = l.id WHERE lc.name = '採購';"
6.3,法律研究人員,分析特定階層關係類型的法規對,"-
  法律研究人員在分析法律體系結構時，能篩選特定階層關係類型（如「子法規」）的所有法規對，以便進行宏觀分析。-
  適用於分析特定類型的法律體系結構，揭示法規間的系統性關聯。","我正在研究法規的階層關係，請列出所有屬於「子法規」類型的
  法規對。","主法規：政府採購法, 關聯法規：政府採購法施行細則, 階層關係類型：子法規","SELECT main_law_name,
  related_law_name, hierarchy_type FROM law_hierarchy_relationships WHERE hierarchy_type = '子法規';"
6.4,法律研究人員,分析法規前言與沿革內容,"-
  法律歷史研究者或立法分析師在研究法規的制定背景和演變時，能快速獲取法規的前言和沿革內容，以便進行深入分析。-
  了解法規的制定背景和歷史演變，支持法律歷史研究。",我需要分析《中華民國憲法》的制定背景，請提供其前言和沿革內容。,"
  前言：中華民國國民大會受全體國民之付託，依據孫中山先生創立中華民國之遺教，為鞏固國權，保障民權，奠定社會安寧，增進人
  民福利，制定本憲法，頒行全國，永矢咸遵。 沿革內容：1.中華民國三十六年一月一日國民政府令公布
  中華民國三十六年十二月二十五日施行 中華民國三十五年十二月二十五日國民大會通過","SELECT xml_preamble,
  xml_history_content FROM laws WHERE xml_law_name = '中華民國憲法';"
6.5,法律研究人員,跨法規關鍵字出現頻率分析,"-
  法律研究人員在進行主題趨勢分析時，能查詢特定關鍵字在不同法規中的出現情況，以便識別跨法規的熱點議題。-
  適用於跨法規的主題分析，識別法律領域的熱點。",我需要分析「採購」這個關鍵字在所有法規中的出現頻率和分佈情況。,"法規
  名稱：政府採購法, 關鍵字：採購","SELECT xml_law_name, llm_keywords FROM laws WHERE llm_keywords ILIKE '%採購%';"
7.1,法律資訊提供者,自動生成法規摘要,"-
  法律資訊提供者在處理大量法規文件時，能快速獲取由LLM自動生成的法規摘要，大幅提升內容生產效率。-
  提供法規的簡要概覽，提升文件處理效率。","我有一份新的法規文件，請幫我自動生成一份摘要，以便發布到我們的法律資訊平台。
  ",目的：建立政府採購制度，確保採購品質、提升效率與功能...,"SELECT llm_summary FROM laws WHERE xml_law_name =
  '政府採購法';"
7.2,法律資訊提供者,自動提取法規關鍵字,"-
  法律資訊提供者在對法律文件進行分類和索引時，能自動提取法規的關鍵字，以便於資料管理和檢索。-
  幫助快速了解法規的核心主題，支持自動化分類和索引。",請幫我從這份法規文件中提取關鍵字，以便我們進行內容標籤化。,"政
  府採購|公共工程|招標|決標|履約管理|驗收|爭議處理|採購人員|廠商","SELECT llm_keywords FROM laws WHERE xml_law_name =
  '政府採購法';"
7.3,法律資訊提供者,提取法條的標籤信息,"-
  法律資訊提供者在對法條進行細粒度分析時，能提取其標籤信息，以便於主題歸類和關聯分析，豐富法律資訊的呈現。-
  快速了解法條的主題或特性，支持細粒度知識提取。",請幫我提取《政府採購法》第2條的所有標籤，以便我們在網站上展示。,"定
  義|採購範圍|核心概念","SELECT article_metadata->'法律意涵'->'標籤' FROM articles a JOIN laws l ON a.law_id = l.id
  WHERE l.xml_law_name = '政府採購法' AND a.xml_article_number = '第 2 條';"
7.4,法律資訊提供者,查詢特定法規的英文名稱,"-
  法律資訊提供者在提供多語言法律資訊服務時，能獲取法規的英文翻譯名稱，以便滿足國際用戶的需求。- 適用於國際交流或英文資
  料查詢，提升法律資訊的國際可及性。",我需要《中華民國憲法》的英文名稱，以便我們的英文版網站使用。,"Constitution of
  the Republic of China (Taiwan)",SELECT xml_english_law_name FROM laws WHERE xml_law_name = '中華民國憲法';
7.5,法律資訊提供者,查詢特定法律概念的同義詞,"-
  法律資訊提供者在構建法律詞彙表或提供多樣化檢索服務時，能查詢法律概念的同義詞，以提升用戶檢索的靈活性。-
  幫助理解不同表述方式，提升法律文本的精準度。",我需要為法律詞彙表尋找「採購」的同義詞，請幫我查詢。,"同義詞：購買,
  同義詞：購置, 同義詞：發包",SELECT data->'同義詞' FROM legal_concepts WHERE name = '採購';
8.1,知識圖譜開發者,獲取法律概念關聯數據,"-
  知識圖譜開發者在構建法律知識圖譜時，能獲取法律概念之間的關聯數據，以便進行可視化呈現。- 提供法律概念間的關聯數據，支
  持知識圖譜構建和可視化。",我需要構建一個法律知識圖譜，請提供所有法律概念之間的關聯數據。,"概念名稱：採購,
  相關概念：工程, 財物, 勞務","SELECT name, data->'相關概念' FROM legal_concepts;"
8.2,知識圖譜開發者,獲取法規階層關係數據,"-
  知識圖譜開發者在可視化法律體系結構時，能獲取法規階層關係數據，以便清晰呈現母法與子法等關係。- 提供法規階層關係數據，
  支持法律體系結構的可視化。",我需要可視化法規的階層關係，請提供所有相關數據。,"主法規：政府採購法,
  關聯法規：政府採購法施行細則, 階層關係類型：子法規","SELECT main_law_name, related_law_name, hierarchy_type FROM
  law_hierarchy_relationships;"
8.3,知識圖譜開發者,獲取跨法規關聯數據,"-
  知識圖譜開發者在可視化複雜法律關係時，能獲取跨法規關聯數據，以便呈現法律條文間的引用、補充等關係。- 提供跨法規關聯數
  據，支持複雜法律關係的可視化。",我需要可視化不同法規之間的關聯，請提供所有相關數據。,"主法規：政府採購法,
  關聯法規：最有利標評選辦法, 關聯類型：法條-法規","SELECT main_law_name, related_law_name, relationship_type FROM
  law_relationships;"
8.4,知識圖譜開發者,獲取法條與法律概念連接數據,"-
  知識圖譜開發者在細粒度分析法條內容時，能獲取法條與其所涉及法律概念的連接數據，以便可視化法條的語義構成。-
  提供法條與法律概念的連接數據，支持法條語義構成的可視化。","我需要可視化法條與其相關法律概念的連接，請提供所有相關數據
  。","法規名稱：政府採購法, 條號：第 2 條, 概念名稱：採購","SELECT l.xml_law_name, a.xml_article_number, lc.name FROM
  articles a JOIN article_legal_concept alc ON a.id = alc.article_id JOIN legal_concepts lc ON alc.legal_concept_id =
  lc.id JOIN laws l ON a.law_id = l.id LIMIT 100;"
8.5,知識圖譜開發者,獲取法規相關法規及摘要數據,"-
  知識圖譜開發者在構建法規網絡圖時，能獲取特定法規的相關法規及其摘要數據，以便在圖譜中呈現法規間的內容關聯。-
  提供法規相關法規及其摘要數據，支持法規網絡圖的可視化。","我需要可視化《政府採購法》的相關法規網絡，請提供相關法規名稱
  和摘要。","相關法規：政府採購法施行細則, 摘要：...","SELECT lr.related_law_name, l2.llm_summary FROM
  law_relationships lr JOIN laws l1 ON lr.main_law_id = l1.id JOIN laws l2 ON lr.related_law_id = l2.id WHERE
  l1.xml_law_name = '政府採購法' AND lr.relationship_type = '法規-法規';"
9.1,系統開發者,查詢所有現行有效法規,"-
  系統開發者在構建法律檢索系統時，需要查詢所有未廢止且目前有效的法規，以確保數據的準確性。-
  提供法規名稱和PCode，支持系統數據初始化。","作為系統開發者，我需要獲取所有現行有效的法規列表，以便同步到我們的應用程
  式。",法規名稱：中華民國憲法,"SELECT xml_law_name, pcode FROM laws WHERE xml_abolition_mark IS NULL OR
  xml_abolition_mark = '';"
9.2,系統開發者,查詢特定法規的所有法條,"-
  系統開發者在設計法規內容展示模組時，需要根據法規PCode查詢該法規下的所有法條，以便正確呈現法規內容。-
  列出條號和條文內容，支持內容展示功能開發。","作為系統開發者，我需要獲取「政府採購法」的所有法條內容，以便在應用程式中
  顯示。","法規名稱：政府採購法, 條號：第 1 條, 條文內容：...","SELECT a.xml_article_number, a.xml_article_content FROM
  articles a JOIN laws l ON a.law_id = l.id WHERE l.pcode = 'P0000001';"
9.3,系統開發者,查詢所有法規階層關係,"-
  系統開發者在構建法律體系導航功能時，需要全面檢視資料庫中所有已記錄的法規階層關係，以便設計直觀的導航界面。-
  提供全面的法規體系結構概覽，支持導航功能開發。","作為系統開發者，我需要獲取所有法規的階層關係數據，以便設計法規導航樹
  。","主法規：政府採購法, 關聯法規：政府採購法施行細則, 階層關係類型：子法規","SELECT main_law_name, related_law_name,
  hierarchy_type FROM law_hierarchy_relationships;"
9.4,系統開發者,查詢所有法規關聯性,"-
  系統開發者在設計法律關係分析模組時，需要全面檢視資料庫中所有已記錄的法規關聯性，以便構建複雜的關係圖譜。-
  提供全面的法規關係網絡概覽，支持關係分析模組開發。","作為系統開發者，我需要獲取所有法規之間的關聯性數據，以便構建法律
  關係分析功能。","主法規：政府採購法, 關聯法規：最有利標評選辦法, 關聯類型：法條-法規","SELECT main_law_name,
  related_law_name, relationship_type FROM law_relationships;"
9.5,系統開發者,查詢特定法規的法條數量,"-
  系統開發者在進行數據庫性能優化或資源分配時，能統計特定法規包含的法條總數，以評估數據量和查詢複雜度。-
  提供快速了解法規規模的資訊，支持系統性能優化。","作為系統開發者，我需要知道《政府採購法》共有多少條法條，以便評估數據
  庫查詢性能。",政府採購法共有 113 條法條。,"SELECT COUNT(*) FROM articles a JOIN laws l ON a.law_id = l.id WHERE
  l.pcode = 'P0000001';"
10.1,立法者/政策制定者,理解法規的立法目的,"-
  立法者或政策制定者在起草新法或修訂現行法規時，能快速了解法規的簡述或立法目的，確保新政策符合原意。-
  了解法規制定的初衷，指導法律解釋和適用。","作為立法者，我需要了解《政府採購法》的立法目的，以便在修訂草案中保持其核心
  精神。","為建立政府採購制度，依公平、公開之採購程序，提升採購效率與功能，確保採購品質，並維護公共利益及公平合理之採購
  環境，特制定本法。",SELECT law_metadata->>'簡述' FROM laws WHERE xml_law_name = '政府採購法';
10.2,立法者/政策制定者,獲取法規的精確分類信息,"- 立法者或政策制定者在進行法律體系規劃時，能獲取特定法規的詳細類
  別資訊（如法律領域、法律位階、主管機關），以便進行精確的歸類和協調。- 提供法規的精確分類，支持法律體系研究。","作為政
  策制定者，我需要了解《政府採購法》的詳細類別，包括其法律領域和位階，以便進行政策協調。","法律領域：行政法 - 經濟行政,
  法律位階：法律, 主管機關：行政院公共工程委員會","SELECT law_metadata->'法規詳細類別' FROM laws WHERE xml_law_name =
  '政府採購法';"
10.3,立法者/政策制定者,追溯法規的授權依據,"-
  立法者或政策制定者在審查行政命令或子法規時，能追溯其母法授權依據，確保法律規範的層級效力。- 追溯法規的法源，確保法律
  規範的合法性。",作為立法者，我需要確認《政府採購法施行細則》的授權依據，以確保其合法性。,政府採購法,"SELECT
  law_metadata->'法規權責'->>'授權依據' FROM laws WHERE xml_law_name = '政府採購法施行細則';"
10.4,立法者/政策制定者,查詢特定法規與其所有子法規的完整內容,"-
  立法者或政策制定者在評估某一法律領域的完整性時，能查詢特定法規及其所有子法規的完整內容，以便全面了解相關規範。-
  提供法規體系的全面視圖，支持政策評估。","作為政策制定者，我需要了解《政府採購法》及其所有子法規的完整內容，以便全面評
  估該領域的政策。",政府採購法完整內容...,"SELECT f_get_law_full_content('P0000001') AS main_law_content,
  f_get_law_full_content(l2.pcode) AS sub_law_content FROM law_hierarchy_relationships lhr JOIN laws l1 ON
  lhr.main_law_id = l1.id JOIN laws l2 ON lhr.related_law_id = l2.id WHERE l1.xml_law_name = '政府採購法' AND
  lhr.hierarchy_type = '子法規';"
10.5,立法者/政策制定者,查詢特定法規的階層關係說明,"-
  立法者或政策制定者在解釋法規體系或進行法律教育時，能獲取特定法規與其相關法規的階層關係說明，以便清晰闡述法律結構。-
  幫助理解法規在體系中的定位，提供詳細的關聯語境。","作為立法者，我需要詳細說明《政府採購法》與《政府採購法施行細則》之
  間的階層關係，以便向公眾解釋。","關聯說明：《政府採購法施行細則》是《政府採購法》的授權子法，依據母法第一百一十三條授
  權訂定，詳細規範母法中原則性條文的具體執行細節與操作程序。","SELECT data->>'關聯說明' FROM
  law_hierarchy_relationships WHERE main_law_name = '政府採購法' AND related_law_name = '政府採購法施行細則';"
  """